{"id":"NetworkView-0iu","title":"Phase 3: Add “Copy evidence note” (plain text for Word appendix)","description":"Phase: Phase 3 — Snapshot export + MapBuilder hand-off (3–7 days)\nSection: snapshot export\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:23.293616Z","updated_at":"2025-12-25T16:04:03.910765Z","labels":["phase-3"],"dependencies":[{"issue_id":"NetworkView-0iu","depends_on_id":"NetworkView-wu5","type":"parent-child","created_at":"2025-12-25T16:04:04.331735Z","created_by":"daemon"}]}
{"id":"NetworkView-0vm","title":"Phase 2: Implement filter chips (clip/mode/operator/time band) and “Clear all”","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: UI layout and patterns\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:17.76398Z","updated_at":"2025-12-25T16:04:18.014734Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-0vm","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:18.475821Z","created_by":"daemon"}]}
{"id":"NetworkView-1ew","title":"Phase 3: Export PNG snapshot with","description":"Phase: Phase 3 — Snapshot export + MapBuilder hand-off (3–7 days)\nSection: snapshot export\nSource: plan.md\nDetails:\n- title (user editable)\n- legend\n- scope chips printed (clip + mode + operator + time band)\n- date/time generated + dataset version","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:23.039242Z","updated_at":"2025-12-25T16:04:04.559946Z","labels":["phase-3"],"dependencies":[{"issue_id":"NetworkView-1ew","depends_on_id":"NetworkView-wu5","type":"parent-child","created_at":"2025-12-25T16:04:05.025137Z","created_by":"daemon"}]}
{"id":"NetworkView-1tw","title":"Phase 1: Normalise to a consistent CRS (WGS84) and simplify geometry for tiling","description":"Phase: Phase 1 — Data artefacts v1 (PMTiles + Parquet) (3–7 days)\nSection: boundaries\nSource: plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:15.150198Z","updated_at":"2025-12-25T16:09:36.928658Z","closed_at":"2025-12-25T16:09:36.928658Z","close_reason":"Closed","labels":["phase-1"],"dependencies":[{"issue_id":"NetworkView-1tw","depends_on_id":"NetworkView-gjy","type":"parent-child","created_at":"2025-12-25T16:04:24.611455Z","created_by":"daemon"}]}
{"id":"NetworkView-1ty","title":"Local Authority and RPT clippling not working","notes":"LA/RPT clip filters and boundary highlights wired in UI (app.js + config + index.html). Needs verification with boundary PMTiles deployed.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-25T16:05:11.668659Z","updated_at":"2025-12-25T16:12:14.851078Z","closed_at":"2025-12-25T16:12:14.851078Z","close_reason":"Closed"}
{"id":"NetworkView-25p","title":"Phase 2: Query builder that mirrors active filters and clip","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: linked table\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:21.015167Z","updated_at":"2025-12-25T16:04:10.385039Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-25p","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:10.881974Z","created_by":"daemon"}]}
{"id":"NetworkView-2k2","title":"SQ-08 Evidence + share/state encoding","description":"Scope\n- Record point coords, boundary details, radius, logic, method, dataset version.\n- Include in evidence note and copy.\n- Encode spatial query in share URL/state JSON if supported.\n\nAcceptance\n- Evidence note is complete and reproducible.\n- Clearing tool restores prior view/table.\n","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T17:33:24.902047Z","updated_at":"2025-12-25T17:33:24.902047Z","dependencies":[{"issue_id":"NetworkView-2k2","depends_on_id":"NetworkView-3uh","type":"parent-child","created_at":"2025-12-25T17:33:25.347573Z","created_by":"daemon"}]}
{"id":"NetworkView-2kh","title":"Phase 1: Ingest route lines (your existing API output / GeoJSON / database)","description":"Phase: Phase 1 — Data artefacts v1 (PMTiles + Parquet) (3–7 days)\nSection: route lines\nSource: plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:15.946737Z","updated_at":"2025-12-25T16:09:36.933181Z","closed_at":"2025-12-25T16:09:36.933181Z","close_reason":"Closed","labels":["phase-1"],"dependencies":[{"issue_id":"NetworkView-2kh","depends_on_id":"NetworkView-gjy","type":"parent-child","created_at":"2025-12-25T16:04:22.785324Z","created_by":"daemon"}]}
{"id":"NetworkView-2lb","title":"Phase 2: Implement three-panel layout","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: UI layout and patterns\nSource: plan.md\nDetails:\n- left controls\n- central map\n- bottom table + right inspector drawer","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:17.471685Z","updated_at":"2025-12-25T16:04:18.706257Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-2lb","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:19.146291Z","created_by":"daemon"}]}
{"id":"NetworkView-3e6","title":"Phase 2 Add an admin config panel at a certian sub-url to allow for feature flag management","notes":"Implemented admin feature-flag panel (admin/config path or ?admin) with localStorage overrides; applied overrides on boot and render modal UI; added activity logging for flag changes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-25T16:06:45.805241Z","updated_at":"2025-12-25T17:14:54.540146Z","closed_at":"2025-12-25T17:14:19.021822Z"}
{"id":"NetworkView-3n3","title":"Phase 2: DuckDB-WASM initialisation","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: linked table\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:20.705209Z","updated_at":"2025-12-25T16:04:11.079261Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-3n3","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:11.470325Z","created_by":"daemon"}]}
{"id":"NetworkView-3nw","title":"Phase 2: Apply clip as a MapLibre layer filter on `la_code`/`rpt_code`","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: clipping\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:19.146501Z","updated_at":"2025-12-25T16:04:14.881335Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-3nw","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:15.297277Z","created_by":"daemon"}]}
{"id":"NetworkView-3uh","title":"Epic: Spatial Query Tool (Point + Boundary)","description":"Summary\nAdd a Spatial Query Tool to the Map Viewer that lets users place a point, define a boundary (radius/polygon/admin area), apply boolean spatial logic, and update map/table/evidence.\n\nGoals\n- Answer spatial questions in under a minute for non-GIS users\n- Keep interaction visual and intuitive\n- Make outputs defensible and reproducible\n\nNon-goals (v1)\n- Editing route geometry\n- Complex multi-shape operations beyond defined boolean options\n- Full GIS buffering UI (keep simple/opinionated)\n\nDependencies\n- Stable service_id + mode/operator attributes\n- DuckDB-WASM initialised\n- Map highlighting/filtering by service_id\n- LA/RPT clip available if boundary option enabled\n\nSource: Feature request (Spatial Query Tool)\n","status":"blocked","priority":1,"issue_type":"epic","created_at":"2025-12-25T17:33:19.641422Z","updated_at":"2025-12-25T17:42:31.793279Z","comments":[{"id":5,"issue_id":"NetworkView-3uh","author":"home","text":"Scope decisions (assumptions until confirmed):\n- v1 uses point + radius (default 300m, slider 50–1000m) + optional LA/RPT boundary if available; polygon draw deferred to v1.1.\n- Spatial query applies on top of existing filters by default (AND); add an advanced toggle to ignore other filters (v1.1).\n- Data method v1: approximate match using bbox/route segments in Parquet; v1.1 adds true geometry ST_DWithin/ST_Intersects if simplified geometry is available.\n- Evidence will record point coords, radius, boundary id/type, logic sentence, and dataset version.\nOpen questions to confirm:\n- Is route geometry available in Parquet (WKB/GeoJSON)?\n- Preferred default radius (300m OK?)\n- Should LA/RPT boundary selection be in v1, or v1.1?\n","created_at":"2025-12-25T17:42:00Z"},{"id":6,"issue_id":"NetworkView-3uh","author":"home","text":"Blocked: implementation depends on DuckDB spatial querying being available/enabled in-browser (ST_DWithin/ST_Intersects or equivalent). Do not start until spatial querying is confirmed working.","created_at":"2025-12-25T17:42:31Z"}]}
{"id":"NetworkView-46i","title":"Phase 2: Click a route line → show inspector card","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: inspector + drill-through\nSource: plan.md\nDetails:\n- service name, operator, mode, IDs\n- links (Traveline/PDF) if present","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:21.71933Z","updated_at":"2025-12-25T16:04:08.354028Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-46i","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:08.759969Z","created_by":"daemon"}]}
{"id":"NetworkView-4nj","title":"Phase 2: Styling presets","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: map rendering\nSource: plan.md\nDetails:\n- default colour by `mode`\n- optional colour by `operator_code` (advanced)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:18.621207Z","updated_at":"2025-12-25T16:04:16.160229Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-4nj","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:16.621995Z","created_by":"daemon"}]}
{"id":"NetworkView-587","title":"DuckDB spatial LA/RTP attribution","description":"Replace Python GeoPandas join with DuckDB spatial joins; add multi-membership LA/RTP fields and robust filtering.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-25T17:43:26.309224Z","updated_at":"2025-12-25T17:43:26.309224Z","labels":["data","duckdb","phase1","spatial"]}
{"id":"NetworkView-587.1","title":"Audit current LA/RTP attribution pipeline","description":"Locate the current GeoPandas/Shapely join that writes la_code/rpt_code and document its rule + inputs/outputs.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T17:43:30.271747Z","updated_at":"2025-12-25T17:43:30.271747Z","labels":["data","duckdb","spatial"],"dependencies":[{"issue_id":"NetworkView-587.1","depends_on_id":"NetworkView-587","type":"parent-child","created_at":"2025-12-25T17:43:30.274486Z","created_by":"daemon"}]}
{"id":"NetworkView-587.2","title":"Design DuckDB spatial join + multi-membership fields","description":"Specify DuckDB SQL to compute intersection length per route/LA and per route/RTP; define primary assignment and multi-membership fields with thresholds.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-25T17:43:35.416347Z","updated_at":"2025-12-25T17:43:35.416347Z","labels":["data","duckdb","spatial"],"dependencies":[{"issue_id":"NetworkView-587.2","depends_on_id":"NetworkView-587","type":"parent-child","created_at":"2025-12-25T17:43:35.419207Z","created_by":"daemon"}]}
{"id":"NetworkView-587.3","title":"Implement DuckDB-based generation + refresh artifacts","description":"Add a DuckDB spatial generation script to output routes.parquet/pmtiles with la_codes/rpt_codes; refresh metadata.json with thresholds and field definitions.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-25T17:43:40.798543Z","updated_at":"2025-12-25T17:43:40.798543Z","labels":["artifacts","data","duckdb","spatial"],"dependencies":[{"issue_id":"NetworkView-587.3","depends_on_id":"NetworkView-587","type":"parent-child","created_at":"2025-12-25T17:43:40.80121Z","created_by":"daemon"}]}
{"id":"NetworkView-587.4","title":"Update UI filters to use multi-membership fields","description":"Adjust map/table filtering to use la_codes/rpt_codes (contains match) with fallback to primary fields; update status/debug messaging.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-25T17:43:46.769462Z","updated_at":"2025-12-25T17:43:46.769462Z","labels":["duckdb","filters","frontend"],"dependencies":[{"issue_id":"NetworkView-587.4","depends_on_id":"NetworkView-587","type":"parent-child","created_at":"2025-12-25T17:43:46.77204Z","created_by":"daemon"}]}
{"id":"NetworkView-587.5","title":"Validate edge cases + document methodology","description":"Check Ember E1 and other multi-LA services; update BASELINE.md + plan.md with DuckDB spatial method + dependency notes.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T17:43:53.018919Z","updated_at":"2025-12-25T17:43:53.018919Z","labels":["data","docs","spatial"],"dependencies":[{"issue_id":"NetworkView-587.5","depends_on_id":"NetworkView-587","type":"parent-child","created_at":"2025-12-25T17:43:53.02203Z","created_by":"daemon"}]}
{"id":"NetworkView-5lx","title":"Phase 1: Source RPT boundaries (your dataset or external)","description":"Phase: Phase 1 — Data artefacts v1 (PMTiles + Parquet) (3–7 days)\nSection: boundaries\nSource: plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:14.853796Z","updated_at":"2025-12-25T16:09:36.926929Z","closed_at":"2025-12-25T16:09:36.926929Z","close_reason":"Closed","labels":["phase-1"],"dependencies":[{"issue_id":"NetworkView-5lx","depends_on_id":"NetworkView-gjy","type":"parent-child","created_at":"2025-12-25T16:04:25.206283Z","created_by":"daemon"}]}
{"id":"NetworkView-5ze","title":"Phase 2: PMTiles integration for routes + boundaries","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: map rendering\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:18.383847Z","updated_at":"2025-12-25T16:04:16.820136Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-5ze","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:17.213398Z","created_by":"daemon"}]}
{"id":"NetworkView-6rf","title":"Phase 2: Table view (virtualised rows)","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: linked table\nSource: plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:21.244406Z","updated_at":"2025-12-25T16:25:08.891635Z","closed_at":"2025-12-25T16:25:08.891635Z","close_reason":"Closed","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-6rf","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:10.150527Z","created_by":"daemon"}],"comments":[{"id":1,"issue_id":"NetworkView-6rf","author":"home","text":"Implemented virtualized Data Inspector rows by rendering only visible slices with spacer rows and scroll-driven re-rendering; selection uses event delegation. Added configurable table limit via config.tableLimit (default 2000) so virtualization matters. Files: public/app.js, public/index.html, public/config*.json.","created_at":"2025-12-25T16:24:50Z"}]}
{"id":"NetworkView-6zj","title":"Phase 1: Generate `boundaries_la.pmtiles`","description":"Phase: Phase 1 — Data artefacts v1 (PMTiles + Parquet) (3–7 days)\nSection: boundaries\nSource: plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:15.425197Z","updated_at":"2025-12-25T16:09:36.930149Z","closed_at":"2025-12-25T16:09:36.930149Z","close_reason":"Closed","labels":["phase-1"],"dependencies":[{"issue_id":"NetworkView-6zj","depends_on_id":"NetworkView-gjy","type":"parent-child","created_at":"2025-12-25T16:04:24.01764Z","created_by":"daemon"}]}
{"id":"NetworkView-720","title":"Phase 1: Source Local Authority boundaries (your dataset or external)","description":"Phase: Phase 1 — Data artefacts v1 (PMTiles + Parquet) (3–7 days)\nSection: boundaries\nSource: plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:14.601098Z","updated_at":"2025-12-25T16:09:36.923995Z","closed_at":"2025-12-25T16:09:36.923995Z","close_reason":"Closed","labels":["phase-1"],"dependencies":[{"issue_id":"NetworkView-720","depends_on_id":"NetworkView-gjy","type":"parent-child","created_at":"2025-12-25T16:04:25.791933Z","created_by":"daemon"}]}
{"id":"NetworkView-79b","title":"SQ-07 Table restriction + CSV export parity","description":"Scope\n- Restrict Data Inspector table to match set.\n- Ensure CSV export uses same match set.\n\nAcceptance\n- Table row count matches map results.\n- CSV contains only matching routes.\n","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T17:33:24.231742Z","updated_at":"2025-12-25T17:33:24.231742Z","dependencies":[{"issue_id":"NetworkView-79b","depends_on_id":"NetworkView-3uh","type":"parent-child","created_at":"2025-12-25T17:33:24.652173Z","created_by":"daemon"}]}
{"id":"NetworkView-7bs","title":"Phase 1: Generate `boundaries_rpt.pmtiles`","description":"Phase: Phase 1 — Data artefacts v1 (PMTiles + Parquet) (3–7 days)\nSection: boundaries\nSource: plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:15.696005Z","updated_at":"2025-12-25T16:09:36.931736Z","closed_at":"2025-12-25T16:09:36.931736Z","close_reason":"Closed","labels":["phase-1"],"dependencies":[{"issue_id":"NetworkView-7bs","depends_on_id":"NetworkView-gjy","type":"parent-child","created_at":"2025-12-25T16:04:23.399106Z","created_by":"daemon"}]}
{"id":"NetworkView-7th","title":"Phase 2: Operator filter (typeahead multi-select)","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: filtering\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:19.930745Z","updated_at":"2025-12-25T16:04:12.993176Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-7th","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:13.42907Z","created_by":"daemon"}]}
{"id":"NetworkView-8ca","title":"Phase 1: Normalise and clean attributes","description":"Phase: Phase 1 — Data artefacts v1 (PMTiles + Parquet) (3–7 days)\nSection: route lines\nSource: plan.md\nDetails:\n- ensure stable `service_id`\n- ensure operator and mode values are consistent","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:16.17441Z","updated_at":"2025-12-25T16:09:36.934799Z","closed_at":"2025-12-25T16:09:36.934799Z","close_reason":"Closed","labels":["phase-1"],"dependencies":[{"issue_id":"NetworkView-8ca","depends_on_id":"NetworkView-gjy","type":"parent-child","created_at":"2025-12-25T16:04:22.165192Z","created_by":"daemon"}]}
{"id":"NetworkView-952","title":"Phase 3: “Send to MapBuilder” stores a `MapArtefactDraft` (JSON spec)","description":"Phase: Phase 3 — Snapshot export + MapBuilder hand-off (3–7 days)\nSection: MapBuilder scaffold (minimal)\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:23.5469Z","updated_at":"2025-12-25T16:04:03.253763Z","labels":["phase-3"],"dependencies":[{"issue_id":"NetworkView-952","depends_on_id":"NetworkView-wu5","type":"parent-child","created_at":"2025-12-25T16:04:03.700903Z","created_by":"daemon"}]}
{"id":"NetworkView-a1m","title":"Phase 0: Define central configuration","description":"Phase: Phase 0 — Repo + foundations (1–2 days)\nSource: plan.md\nDetails:\n- `config/definitions.json` (time bands, default styling, thresholds)\n- `config/sources.json` (dataset attribution, update frequency)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:14.11075Z","updated_at":"2025-12-25T16:04:26.636723Z","closed_at":"2025-12-25T15:57:29.036625Z","labels":["phase-0"],"dependencies":[{"issue_id":"NetworkView-a1m","depends_on_id":"NetworkView-qnr","type":"parent-child","created_at":"2025-12-25T16:04:27.245563Z","created_by":"daemon"}]}
{"id":"NetworkView-a72","title":"SQ-04 Spatial logic selector + readable sentence","description":"Scope\n- Implement logic options:\n  1) NEAR(point, radius)\n  2) INTERSECTS(boundary)\n  3) NEAR(point, radius) AND INTERSECTS(boundary)\n- Render as human-readable sentence.\n\nAcceptance\n- Logic selector is plain English.\n- Active logic displayed (e.g., \"Routes within 300m of point AND intersect boundary\").\n","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T17:33:22.229755Z","updated_at":"2025-12-25T17:33:22.229755Z","dependencies":[{"issue_id":"NetworkView-a72","depends_on_id":"NetworkView-3uh","type":"parent-child","created_at":"2025-12-25T17:33:22.641143Z","created_by":"daemon"}]}
{"id":"NetworkView-adx","title":"Phase 3 integration: fix filter wiring for table/export/service search","description":"Refactor moved filter helpers to modules; several call sites in app.js and table/export modules stopped passing UI inputs or filter objects, disabling filters or breaking exports.","acceptance_criteria":"Service search/operators/time bands apply in buildWhere/buildMapFilter; table paging and exports use current filters; download handlers wired with dependencies; no runtime errors from missing filter args.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-25T19:46:56.299182Z","updated_at":"2025-12-25T19:47:33.744629Z","closed_at":"2025-12-25T19:47:33.744629Z","close_reason":"Closed","comments":[{"id":7,"issue_id":"NetworkView-adx","author":"home","text":"Fixed filter wiring after modular refactor: pass operator/time-band/service-search inputs through app.js, propagate filters into table paging/queryTable, and thread filters into export handlers. Updated download click handlers to provide dependencies. Tests: npm test -- --run.","created_at":"2025-12-25T19:47:17Z"}]}
{"id":"NetworkView-ags","title":"Phase 4: Add timetable-derived flags for time bands","description":"Phase: Phase 4 — Performance hardening + real time bands (as data allows) (ongoing)\nSource: plan.md\nDetails:\n- `runs_evening`, `runs_night`, `runs_sunday`","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:24.50867Z","updated_at":"2025-12-25T16:04:00.413425Z","labels":["phase-4"],"dependencies":[{"issue_id":"NetworkView-ags","depends_on_id":"NetworkView-zds","type":"parent-child","created_at":"2025-12-25T16:04:00.860123Z","created_by":"daemon"}]}
{"id":"NetworkView-b43","title":"Phase 1: Generate `routes.pmtiles` with above properties present on tile features","description":"Phase: Phase 1 — Data artefacts v1 (PMTiles + Parquet) (3–7 days)\nSection: route lines\nSource: plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:16.680558Z","updated_at":"2025-12-25T16:09:36.937554Z","closed_at":"2025-12-25T16:09:36.937554Z","close_reason":"Closed","labels":["phase-1"],"dependencies":[{"issue_id":"NetworkView-b43","depends_on_id":"NetworkView-gjy","type":"parent-child","created_at":"2025-12-25T16:04:20.953219Z","created_by":"daemon"}]}
{"id":"NetworkView-byi","title":"SQ-09 Edge cases + limits","description":"Scope\n- Handle no results, out-of-extent points, oversized boundaries.\n- Cap radius (e.g., 2km) and polygon complexity.\n- Provide user-friendly warnings.\n\nAcceptance\n- Clear guidance for zero results or slow queries.\n- Limits enforced without crashes.\n","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T17:33:25.595742Z","updated_at":"2025-12-25T17:33:25.595742Z","dependencies":[{"issue_id":"NetworkView-byi","depends_on_id":"NetworkView-3uh","type":"parent-child","created_at":"2025-12-25T17:33:25.996521Z","created_by":"daemon"}]}
{"id":"NetworkView-cbd","title":"Phase 2: Export current table to CSV (DuckDB query → CSV blob download)","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: exports\nSource: plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:22.227535Z","updated_at":"2025-12-25T16:34:06.603869Z","closed_at":"2025-12-25T16:34:06.603873Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-cbd","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:07.304927Z","created_by":"daemon"}]}
{"id":"NetworkView-ch4","title":"Phase 1: Generate `metadata.json` including","description":"Phase: Phase 1 — Data artefacts v1 (PMTiles + Parquet) (3–7 days)\nSection: metadata\nSource: plan.md\nDetails:\n- dataset versions (hash or timestamp)\n- generated-at time\n- attribution text\n- definitions.json version used","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:17.203208Z","updated_at":"2025-12-25T16:09:36.94057Z","closed_at":"2025-12-25T16:09:36.94057Z","close_reason":"Closed","labels":["phase-1"],"dependencies":[{"issue_id":"NetworkView-ch4","depends_on_id":"NetworkView-gjy","type":"parent-child","created_at":"2025-12-25T16:04:19.768896Z","created_by":"daemon"}]}
{"id":"NetworkView-dlm","title":"Filter controls inconsistent (auto-fit jumping, Clear leaves empty table, map filter sometimes not applied)","description":"User reports weird filter behaviour. Audit each control: Mode/Operator/Time band (multi-select), LA/RPT (single), service search, viewport limit checkbox, Clear/Reset.\n\nProblems observed in code:\n- Any filter apply triggers fitMapToScope(), which is jarring once filters auto-apply on change.\n- Clear/Reset currently empties table/stats and does not reload full dataset.\n- Map filter can be a no-op when selected filters exist but tileFields have not been detected (buildMapFilter returns null).\n\nExpected:\n- Changing filter controls updates map + table consistently.\n- Auto-apply on change should not re-fit map each time (only on explicit Apply if desired).\n- Clear/Reset restores full dataset counts/table.\n- Map filtering should retry tile-field detection when filters are set.","acceptance_criteria":"- Changing each filter control (Mode/Operator/Time band/LA/RPT/service search/bbox) updates both map and table.\n- Map only auto-fits on explicit Apply (or behind a flag), not on every change.\n- Clear/Reset restores full selection (non-zero rows) when data exists.\n- Map filtering works even when tileFields start empty (detect/retry), and selection highlight stays constrained.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-25T17:26:05.345306Z","updated_at":"2025-12-25T17:28:27.87544Z","closed_at":"2025-12-25T17:28:27.87544Z","close_reason":"Closed","labels":["filters","phase-2","ui"],"comments":[{"id":4,"issue_id":"NetworkView-dlm","author":"home","text":"Audit + fixes in public/app.js:\n- Only explicit Apply button triggers auto-fit (onApplyFilters({autoFit:true})); auto-apply changes no longer jump the map.\n- Clear/Reset now reloads the full dataset by calling onApplyFilters({autoFit:false}) instead of leaving table empty.\n- applyMapFilters() retries detectTileFieldsFromRendered() when filters are set but buildMapFilter() returns null; adds one-time warning/log if tile attributes still can’t be detected.\n- Map filter match logic now supports selecting '(unknown)' for Mode/Operator (NONE_OPTION_VALUE) so map and table semantics match.\nRan: node --check public/app.js.","created_at":"2025-12-25T17:28:13Z"}]}
{"id":"NetworkView-dmc","title":"Phase 0: Decide dev server + build system","description":"Phase: Phase 0 — Repo + foundations (1–2 days)\nSource: plan.md\nDetails:\n- Vite + React + TypeScript (recommended for simplicity)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:14.354109Z","updated_at":"2025-12-25T16:04:25.995408Z","closed_at":"2025-12-25T15:57:27.582199Z","labels":["phase-0"],"dependencies":[{"issue_id":"NetworkView-dmc","depends_on_id":"NetworkView-qnr","type":"parent-child","created_at":"2025-12-25T16:04:26.409903Z","created_by":"daemon"}]}
{"id":"NetworkView-dp1","title":"Phase 4: Add graceful degradation","description":"Phase: Phase 4 — Performance hardening + real time bands (as data allows) (ongoing)\nSource: plan.md\nDetails:\n- missing links → hide actions\n- missing time flags → disable filter with explanation","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:25.045658Z","updated_at":"2025-12-25T16:03:58.558493Z","labels":["phase-4"],"dependencies":[{"issue_id":"NetworkView-dp1","depends_on_id":"NetworkView-zds","type":"parent-child","created_at":"2025-12-25T16:03:59.54291Z","created_by":"daemon"}]}
{"id":"NetworkView-ega","title":"Phase 1: Compute primary `la_code` and `rpt_code` per route line (recommended v1 approach)","description":"Phase: Phase 1 — Data artefacts v1 (PMTiles + Parquet) (3–7 days)\nSection: route lines\nSource: plan.md\nDetails:\n- choose a deterministic rule (e.g., max intersect length)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:16.42586Z","updated_at":"2025-12-25T16:09:36.936153Z","closed_at":"2025-12-25T16:09:36.936153Z","close_reason":"Closed","labels":["phase-1"],"dependencies":[{"issue_id":"NetworkView-ega","depends_on_id":"NetworkView-gjy","type":"parent-child","created_at":"2025-12-25T16:04:21.550352Z","created_by":"daemon"}]}
{"id":"NetworkView-gdk","title":"Phase 2: Service search (route number/name)","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: filtering\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:20.173201Z","updated_at":"2025-12-25T16:04:12.345789Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-gdk","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:12.753885Z","created_by":"daemon"}]}
{"id":"NetworkView-gi4","title":"Phase 2: Map ↔ table selection (service_id links)","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: linked table\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:21.487396Z","updated_at":"2025-12-25T16:04:08.973593Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-gi4","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:09.42372Z","created_by":"daemon"}]}
{"id":"NetworkView-gjy","title":"Epic: Phase 1 — Data artefacts v1 (PMTiles + Parquet) (3–7 days)","description":"Goal: route lines and boundaries are served as PMTiles; attribute tables exist as Parquet for DuckDB.\nDeliverables:\n- `routes.pmtiles`, `boundaries_la.pmtiles`, `boundaries_rpt.pmtiles`\n- `routes.parquet`, `operators.parquet` (if available)\n- `metadata.json`\nAcceptance:\n- PMTiles open in a simple MapLibre test page and render at national scale\n- DuckDB-WASM can query `routes.parquet` locally and return counts by operator/mode\nSource: plan.md","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-25T16:03:57.143933Z","updated_at":"2025-12-25T16:03:57.143933Z","labels":["phase-1"]}
{"id":"NetworkView-gwk","title":"LIMIT TO MAP VIEWPOINT not working","description":"the associated checkbox has no function","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-25T16:44:43.857416Z","updated_at":"2025-12-25T16:44:43.857416Z"}
{"id":"NetworkView-h93","title":"User Concole log","description":"The user should be able to access an operation console log, showing information about their session, their queries, and any errors. This should be accessed by clicking a console icon in the bottom right. This should be unique to the users current session","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-25T17:39:22.028259Z","updated_at":"2025-12-25T17:39:22.028259Z"}
{"id":"NetworkView-haw","title":"SQ-02 Point placement + radius overlay","description":"Scope\n- Allow point placement by map click or search result hook.\n- Show draggable marker.\n- Add radius slider (default) and render buffer circle.\n\nAcceptance\n- Marker appears and can be moved.\n- Radius updates visually as slider moves.\n- Coordinates recorded for evidence.\n\nNotes\n- Default radius to be confirmed (100–400m).\n","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T17:33:20.89745Z","updated_at":"2025-12-25T17:33:20.89745Z","dependencies":[{"issue_id":"NetworkView-haw","depends_on_id":"NetworkView-3uh","type":"parent-child","created_at":"2025-12-25T17:33:21.330693Z","created_by":"daemon"}]}
{"id":"NetworkView-hr4","title":"Phase 2: Evidence strip visible","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: exports\nSource: plan.md\nDetails:\n- scope summary, filters, dataset version, definitions version","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:22.479283Z","updated_at":"2025-12-25T16:04:05.984636Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-hr4","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:06.519558Z","created_by":"daemon"}]}
{"id":"NetworkView-i4s","title":"Phase 2: Copy buttons for service_id/operator_code","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: inspector + drill-through\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:21.979938Z","updated_at":"2025-12-25T16:04:07.564799Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-i4s","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:08.139209Z","created_by":"daemon"}]}
{"id":"NetworkView-iau","title":"Phase 1: Generate `routes.parquet` attribute table for DuckDB (same keys + richer columns)","description":"Phase: Phase 1 — Data artefacts v1 (PMTiles + Parquet) (3–7 days)\nSection: route lines\nSource: plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:16.93643Z","updated_at":"2025-12-25T16:09:36.939074Z","closed_at":"2025-12-25T16:09:36.939074Z","close_reason":"Closed","labels":["phase-1"],"dependencies":[{"issue_id":"NetworkView-iau","depends_on_id":"NetworkView-gjy","type":"parent-child","created_at":"2025-12-25T16:04:20.358805Z","created_by":"daemon"}]}
{"id":"NetworkView-jem","title":"SQ-03 Boundary definition options","description":"Scope\n- Provide boundary choice: radius buffer (v1), admin boundary (LA/RPT) if available.\n- Optional v1.1: polygon draw/lasso (if included, cap vertices + simplify).\n\nAcceptance\n- Selected admin boundary highlights and name shown.\n- Boundary selection updates visible overlay.\n","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T17:33:21.559986Z","updated_at":"2025-12-25T17:33:21.559986Z","dependencies":[{"issue_id":"NetworkView-jem","depends_on_id":"NetworkView-3uh","type":"parent-child","created_at":"2025-12-25T17:33:21.991167Z","created_by":"daemon"}]}
{"id":"NetworkView-jgp","title":"Phase 2: MapLibre map with basemap style","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: map rendering\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:18.034937Z","updated_at":"2025-12-25T16:04:17.411486Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-jgp","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:17.810042Z","created_by":"daemon"}]}
{"id":"NetworkView-k33","title":"Phase 4: Add caching headers + CDN rules for PMTiles/Parquet","description":"Phase: Phase 4 — Performance hardening + real time bands (as data allows) (ongoing)\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:24.281759Z","updated_at":"2025-12-25T16:04:01.07443Z","labels":["phase-4"],"dependencies":[{"issue_id":"NetworkView-k33","depends_on_id":"NetworkView-zds","type":"parent-child","created_at":"2025-12-25T16:04:01.57053Z","created_by":"daemon"}]}
{"id":"NetworkView-k89","title":"Phase 2: Clip control","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: clipping\nSource: plan.md\nDetails:\n- choose LA by dropdown/search\n- choose RPT by dropdown/search","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:18.868202Z","updated_at":"2025-12-25T16:04:15.528403Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-k89","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:15.955765Z","created_by":"daemon"}]}
{"id":"NetworkView-k9r","title":"Phase 0: Create mono-repo structure","description":"Phase: Phase 0 — Repo + foundations (1–2 days)\nSource: plan.md\nDetails:\n- `apps/web` (Map Viewer UI)\n- `packages/data-pipeline` (scripts)\n- `data/` (local dev artefacts)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:13.879984Z","updated_at":"2025-12-25T16:04:27.479599Z","closed_at":"2025-12-25T15:57:31.601326Z","labels":["phase-0"],"dependencies":[{"issue_id":"NetworkView-k9r","depends_on_id":"NetworkView-qnr","type":"parent-child","created_at":"2025-12-25T16:04:27.928754Z","created_by":"daemon"}]}
{"id":"NetworkView-kaz","title":"Phase 4: Add smoke tests","description":"Phase: Phase 4 — Performance hardening + real time bands (as data allows) (ongoing)\nSource: plan.md\nDetails:\n- “LA clip returns expected counts”\n- “Operator filter yields stable totals”\n\nAdditional scope: add lightweight diagnostic logging for key user actions and error paths so smoke tests can verify expected telemetry and failure modes.\n","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:24.749794Z","updated_at":"2025-12-25T16:38:36.33875Z","labels":["phase-4"],"dependencies":[{"issue_id":"NetworkView-kaz","depends_on_id":"NetworkView-zds","type":"parent-child","created_at":"2025-12-25T16:04:00.203036Z","created_by":"daemon"}]}
{"id":"NetworkView-kih","title":"Phase 2: Save “Map State” as JSON (local storage v1 is fine)","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: exports\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:22.789673Z","updated_at":"2025-12-25T16:04:05.247239Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-kih","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:05.721433Z","created_by":"daemon"}]}
{"id":"NetworkView-lko","title":"SQ-06 Map highlighting + dim non-matching routes","description":"Scope\n- Use match set to highlight routes and optionally dim non-matching.\n- Keep point/boundary overlays visible until cleared.\n\nAcceptance\n- Matches are visually distinct (thicker line/stronger color).\n- Optional toggle for dimming non-matching.\n","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T17:33:23.577142Z","updated_at":"2025-12-25T17:33:23.577142Z","dependencies":[{"issue_id":"NetworkView-lko","depends_on_id":"NetworkView-3uh","type":"parent-child","created_at":"2025-12-25T17:33:23.999143Z","created_by":"daemon"}]}
{"id":"NetworkView-p57","title":"Epic: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)","description":"Goal: a planner can find a place, clip to LA/RPT, filter routes, inspect, and export a CSV.\nDeliverables:\n- Map Viewer usable end-to-end for route lines\n- CSV export working\n- Evidence strip present\nAcceptance:\n- User can:\n- Table row count matches the map feature set under the same filters (within defined rules)\nSource: plan.md","status":"in_progress","priority":1,"issue_type":"epic","created_at":"2025-12-25T16:03:57.402197Z","updated_at":"2025-12-25T16:39:18.312969Z","labels":["phase-2"]}
{"id":"NetworkView-p57.1","title":"Phase 2: Virtualised table follow-ups (row height + paging)","description":"Context\\n- Data Inspector table uses scroll-window virtualisation (spacer rows + visible slice) and a configurable tableLimit (default 2000).\\n\\nProblems\\n- Virtualisation assumes fixed row height; style/font changes can desync scroll math.\\n- Large selections still need paging/offset or adaptive limits to avoid heavy single-shot DuckDB queries.\\n\\nAcceptance\\n- Measure row height dynamically (at least once per render) to keep spacer math accurate.\\n- Add paging (LIMIT/OFFSET) or adaptive tableLimit based on selection size/device to keep UI responsive for \u003e10k rows.\\n- Selection, keyboard nav, and exports/evidence remain consistent under paging/virtualisation.\\n\\nImplementation notes\\n- Files: public/app.js (renderTable + queryTable).\\n- Consider adding a per-query cache keyed by filter state to avoid requerying on scroll.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:25:48.888583Z","updated_at":"2025-12-25T16:41:41.953551Z","closed_at":"2025-12-25T16:41:41.953551Z","close_reason":"Closed","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-p57.1","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:25:48.889828Z","created_by":"home"},{"issue_id":"NetworkView-p57.1","depends_on_id":"NetworkView-6rf","type":"parent-child","created_at":"2025-12-25T16:38:21.810206Z","created_by":"daemon"}],"comments":[{"id":2,"issue_id":"NetworkView-p57.1","author":"home","text":"Completed: added dynamic row height measurement (measures first rendered row and adjusts virtual rowHeight), and added paging (LIMIT/OFFSET) with lazy page fetch based on scroll position. Added browse cap disclosure in evidence/table meta and made tableLimit/pageSize/browseMax configurable (config.tableLimit/tablePageSize/tableBrowseMax). Updated selection click handling to work under paging. Files: public/app.js, public/config.json, public/config.sample.json, public/config.r2.json.","created_at":"2025-12-25T16:41:20Z"}]}
{"id":"NetworkView-qn3","title":"Phase 4: Convert large layers to multiple PMTiles by theme if needed","description":"Phase: Phase 4 — Performance hardening + real time bands (as data allows) (ongoing)\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:24.024922Z","updated_at":"2025-12-25T16:04:01.803779Z","labels":["phase-4"],"dependencies":[{"issue_id":"NetworkView-qn3","depends_on_id":"NetworkView-zds","type":"parent-child","created_at":"2025-12-25T16:04:02.290408Z","created_by":"daemon"}]}
{"id":"NetworkView-qnr","title":"Epic: Phase 0 — Repo + foundations (1–2 days)","description":"Goal: establish a working shell and tooling.\nDeliverables:\n- Running local web app scaffold with placeholder layout\n- Config files committed\nAcceptance:\n- `pnpm dev` (or `npm run dev`) launches app and renders a placeholder map container and table container\nSource: plan.md","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-25T16:03:56.886524Z","updated_at":"2025-12-25T16:03:56.886524Z","labels":["phase-0"]}
{"id":"NetworkView-rsf","title":"Phase 3: MapBuilder shows the same view and allows","description":"Phase: Phase 3 — Snapshot export + MapBuilder hand-off (3–7 days)\nSection: MapBuilder scaffold (minimal)\nSource: plan.md\nDetails:\n- title/subtitle edits\n- annotation text box (simple)\n- export again","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:23.783328Z","updated_at":"2025-12-25T16:04:02.521948Z","labels":["phase-3"],"dependencies":[{"issue_id":"NetworkView-rsf","depends_on_id":"NetworkView-wu5","type":"parent-child","created_at":"2025-12-25T16:04:03.015143Z","created_by":"daemon"}]}
{"id":"NetworkView-ruy","title":"Phase 2 - console log","description":"add in console log that records appropriate details of user actions. and prints relevant errors for diagnosis","notes":"Added client-side activity logging to console (actions + errors), exposed __NV_LOG, and logged errors in boot.js for diagnostics.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-25T16:17:32.720598Z","updated_at":"2025-12-25T17:15:00.079642Z","closed_at":"2025-12-25T17:14:24.236963Z"}
{"id":"NetworkView-u7q","title":"Phase 2: Display active boundary outline and name","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: clipping\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:19.40238Z","updated_at":"2025-12-25T16:04:14.233842Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-u7q","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:14.638504Z","created_by":"daemon"}]}
{"id":"NetworkView-ucr","title":"SQ-05 Query execution (DuckDB) + service_id match set","description":"Scope\n- Compute matching service_id list from point/boundary/logic.\n- Decide v1 method (bbox/radius approximation vs geometry ST_DWithin/ST_Intersects).\n- Return match set for map + table.\n\nAcceptance\n- Typical city-scale query completes ~1–2s.\n- No full-page re-render or jank.\n\nNotes\n- v1 likely: bbox/radius approximation; v1.1: true geometry refine.\n","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T17:33:22.908094Z","updated_at":"2025-12-25T17:33:22.908094Z","dependencies":[{"issue_id":"NetworkView-ucr","depends_on_id":"NetworkView-3uh","type":"parent-child","created_at":"2025-12-25T17:33:23.359876Z","created_by":"daemon"}]}
{"id":"NetworkView-v9p","title":"Multi-select defaults filter table to (none); map/table out of sync","description":"Repro: load app with metadata-driven multi-select filters (Mode/Operator). Browser auto-selects the first option, which is '(none)', causing buildWhere() to apply an unknown-only filter =\u003e queryCount returns 0 and Data Inspector shows 'Rows 0–0 of 0' even though routes render on the map.\n\nAlso: changing Mode/Operator/LA/RPT/Time band should immediately apply filters (map + table), but only some controls auto-apply today.\n\nExpected: On first load, no filter is applied by default (multi-selects start with no selection), initial table loads all routes, and changing any filter control updates the map/table consistently.","acceptance_criteria":"- Fresh load shows non-zero selection/table when data exists.\n- Multi-selects start with no selected option.\n- Changing Mode/Operator/LA/RPT/Time band applies map+table filters (debounced) without requiring the Apply button.\n- No console errors from rapid filter changes.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-25T17:15:31.11326Z","updated_at":"2025-12-25T17:16:25.847083Z","closed_at":"2025-12-25T17:16:25.847083Z","close_reason":"Closed","labels":["phase-2","regression","ui"],"comments":[{"id":3,"issue_id":"NetworkView-v9p","author":"home","text":"Implemented fix in public/app.js: clear default selections for multi-selects after fillSelect() so (none) is not auto-selected on load; add debounced change listeners for Mode/Operator/Time band/LA/RPT to call onApplyFilters(); add state.applyingFilters guard to coalesce rapid apply calls. Ran: node --check public/app.js.","created_at":"2025-12-25T17:16:12Z"}]}
{"id":"NetworkView-wrn","title":"SQ-01 UI shell + state for spatial query","description":"Scope\n- Add Spatial Query panel under Scope with collapsed default.\n- Add map toolbar (Place point, Draw boundary, Logic, Run, Clear).\n- Define client state model for point, radius, boundary, logic, results.\n\nAcceptance\n- Panel opens/closes without breaking existing filters.\n- Tool can be toggled on/off and reset/clear.\n- State persists during session and restores previous view when cleared.\n\nFiles\n- public/index.html, public/styles.css, public/app.js\n","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T17:33:20.101343Z","updated_at":"2025-12-25T17:33:20.101343Z","dependencies":[{"issue_id":"NetworkView-wrn","depends_on_id":"NetworkView-3uh","type":"parent-child","created_at":"2025-12-25T17:33:20.635074Z","created_by":"daemon"}]}
{"id":"NetworkView-wu5","title":"Epic: Phase 3 — Snapshot export + MapBuilder hand-off (3–7 days)","description":"Goal: create report-ready visuals without GIS.\nDeliverables:\n- Report-ready PNG export\n- Evidence note copy feature\n- Minimal MapBuilder that reuses Viewer state\nAcceptance:\n- Exported PNG can be dropped into a Word report and is self-explanatory without additional context\n- Evidence note can be pasted into an appendix and matches the export scope\nSource: plan.md","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-25T16:03:57.646405Z","updated_at":"2025-12-25T16:03:57.646405Z","labels":["phase-3"]}
{"id":"NetworkView-x76","title":"Phase 2: Mode filter (multi-select)","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: filtering\nSource: plan.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:19.654832Z","updated_at":"2025-12-25T16:04:13.630735Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-x76","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:14.029249Z","created_by":"daemon"}]}
{"id":"NetworkView-yas","title":"Phase 2: Time band filter (enabled if flags exist, otherwise disabled with “coming soon”)","description":"Phase: Phase 2 — Map Viewer MVP (route lines + clip + filters + linked table) (5–10 days)\nSection: filtering\nSource: plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T15:55:20.410612Z","updated_at":"2025-12-25T16:47:08.615031Z","closed_at":"2025-12-25T16:47:08.615035Z","labels":["phase-2"],"dependencies":[{"issue_id":"NetworkView-yas","depends_on_id":"NetworkView-p57","type":"parent-child","created_at":"2025-12-25T16:04:12.12606Z","created_by":"daemon"}]}
{"id":"NetworkView-zds","title":"Epic: Phase 4 — Performance hardening + real time bands (as data allows) (ongoing)","description":"Goal: make the existing `public/` UI “real” (filters → map → table → inspector → exports) without introducing a bundler yet.\nAcceptance:\n- Viewer remains responsive with Scotland-wide view and typical filters\n- Time band filter behaviour is correct and disclosed in Evidence\nSource: plan.md","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-25T16:03:57.920182Z","updated_at":"2025-12-25T16:03:57.920182Z","labels":["phase-4"]}
